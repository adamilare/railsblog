
<li class="post-item">
    <div class="post-header">
        <div class="left">
            <h3><%= post.title%></h3>

            <% if defined?(headed) %>
                <span> by </span>
                <span><%= post.author.name %> </span>                        
            </div>
            
            <%= render 'shared/interaction', post: post %> 
            <% else %>
                </div>
            <% end %>
    </div>
    <p><%= post.text%></p> 
    <% unless defined?(headed) %>
        <%= render 'shared/interaction', post: post %>
    <% end %>
    <% if defined?(comments) && !comments.blank?%>
        <hr>
        <ul class="ul-none comments">
            <% comments.each do |comment| %>
                <li><span><%= comment.author.name %>: <%= comment.text%></li>
            <% end %>
        </ul>
    <% end%>
    <div class="add-comment" id="comment-form-<%= post.id %>">
        <%= form_with model: @comment, method: :post, url: "/users/#{post.author.id}/posts/#{post.id}/comments", scope: 'comment' do |form| %>
            <%= form.text_field :text, placeholder: "Add a comment...", class: "comment-text" %>
            <%= form.submit "Add" %>
        <% end %>
  </div>
</li>
